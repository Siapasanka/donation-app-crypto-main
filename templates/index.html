<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Blockchain Donations</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;700&family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      font-family:'Poppins', sans-serif;
      background:#0f0f0f;
      color:#e0e0e0;
      line-height:1.6;
      scroll-behavior:smooth;
      padding-top:70px;
      overflow-x:hidden;
    }
    a { text-decoration:none; color:inherit; }

    /* Blockchain animated background */
    body::before {
      content: "";
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      background: radial-gradient(circle at center, rgba(0,196,255,0.05) 0%, transparent 70%);
      z-index: -2;
    }
    body::after {
      content: "";
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      background-image:
        radial-gradient(circle, rgba(0,196,255,0.25) 2px, transparent 2px),
        radial-gradient(circle, rgba(0,255,150,0.25) 2px, transparent 2px);
      background-size: 80px 80px, 120px 120px;
      background-position: 0 0, 40px 40px;
      animation: moveGrid 12s linear infinite;
      opacity: 0.4;
      z-index: -1;
    }
    @keyframes moveGrid {
      0% { background-position: 0 0, 40px 40px; }
      100% { background-position: 80px 80px, 120px 120px; }
    }

    /* Navbar */
    .top-nav {
      background:#1a1a1a; position:fixed; top:0; left:0; width:100%; z-index:999;
      display:flex; justify-content:space-between; align-items:center;
      padding:15px 30px; border-bottom:1px solid rgba(0,196,255,0.2);
    }
    .top-nav img { max-width:50px; }
    .top-nav h3 { color:#00c4ff; margin-left:10px; font-weight:bold; }
    .top-nav ul { list-style:none; display:flex; gap:20px; align-items:center; }
    .top-nav a { padding:8px 12px; border-radius:6px; transition:0.3s; }
    .top-nav a:hover { background:#00c4ff; color:#000; }
    .btn-wallet {
      background:#00c4ff; color:#000; padding:8px 12px; border:none; border-radius:6px; cursor:pointer; font-weight:bold;
      transition:0.3s;
    }
    .btn-wallet:hover { background:#00e6ff; box-shadow:0 0 10px #00c4ff; }

    /* Hero */
    .hero {
      display:flex; flex-direction:column; justify-content:center; align-items:center;
      text-align:center;
      margin:120px auto 60px auto;
      padding:60px 30px;
      border-radius:15px;
      position:relative;
      overflow:hidden;
    }
    .hero h1 {
      font-size:3rem; color:#00e6ff; margin-bottom:20px; z-index:1;
    }
    .hero p { font-size:18px; color:#ccc; margin-bottom:25px; max-width:700px; z-index:1; }

    .btn-primary {
      background:#00c4ff; color:#000; padding:15px 30px; font-weight:bold; border:none; border-radius:8px; cursor:pointer;
      transition:0.3s; z-index:1; position:relative;
    }
    .btn-primary:hover { background:#00e6ff; box-shadow:0 0 20px #00e6ff; }

    /* Features */
    .features {
      display: grid;
      grid-template-columns: repeat(auto-fit,minmax(280px,1fr));
      gap: 25px;
      margin: 60px auto;
      max-width: 1100px;
    }
    .feature-card {
      background: rgba(25,25,25,0.9);
      padding: 30px;
      border-radius: 15px;
      text-align: center;
      box-shadow: 0 0 15px rgba(0,255,255,0.1);
      transition: transform 0.4s ease, box-shadow 0.4s ease;
      opacity: 0;
      transform: translateY(50px);
      animation: floatCard 6s ease-in-out infinite alternate;
    }
    .feature-card h3 { color:#00c4ff; margin-bottom:15px; font-size:20px; }
    .feature-card p { color:#bbb; font-size:15px; }
    .feature-card:hover {
      transform: scale(1.08) rotate(-1deg);
      box-shadow: 0 0 25px rgba(0,212,255,0.6), 0 0 50px rgba(0,212,255,0.2);
    }
    @keyframes floatCard {
      0% { transform: translateY(0); }
      100% { transform: translateY(-12px); }
    }
    [data-animate].visible {
      opacity: 1;
      transform: translateY(0);
      transition: all 0.8s ease-out;
    }

    /* CTA */
    .cta {
      max-width:900px; margin:70px auto; text-align:center;
      background: rgba(0,196,255,0.05); padding:50px; border-radius:15px;
      border:1px solid rgba(0,196,255,0.2);
    }
    .cta h2 { color:#00c4ff; margin-bottom:20px; font-size:2rem; }
    .cta p { color:#ccc; font-size:18px; margin-bottom:25px; }

    /* Footer */
    .footer {
      background:#111; padding:60px 20px; text-align:center;
    }
    .footer-grid {
      display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:40px;
      max-width:1200px; margin:auto; text-align:center;
    }
    .footer h4 { color:#00c4ff; margin-bottom:15px; font-size:18px; }
    .footer ul { list-style:none; padding:0; }
    .footer ul li { margin:8px 0; }
    .footer ul li a { color:#aaa; transition:0.3s; display:inline-block; }
    .footer ul li a:hover { color:#fff; transform:translateX(4px); }
    .footer p { margin-top:40px; color:#666; font-size:14px; text-align:center; }

    @media(max-width:768px){
      .hero h1 { font-size:2.2rem; }
      .hero p { font-size:16px; }
      .cta { padding:30px 20px; }
    }

    /* Donation Toast */
    #donationNotifications {
      position: fixed;
      top: 90px;
      right: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    .donation-toast {
      background: rgba(20, 20, 20, 0.95);
      border-left: 4px solid #00c4ff;
      padding: 12px 18px;
      border-radius: 10px;
      color: #e0e0e0;
      font-size: 14px;
      min-width: 250px;
      box-shadow: 0 0 12px rgba(0,196,255,0.25);
      animation: slideIn 0.5s ease, fadeOut 0.5s ease 5s forwards;
    }
    .donation-toast strong {
      color: #00e6ff;
      display: block;
      margin-bottom: 4px;
      font-size: 15px;
    }
    @keyframes slideIn {
      from { opacity: 0; transform: translateX(120%); }
      to { opacity: 1; transform: translateX(0); }
    }
    @keyframes fadeOut {
      to { opacity: 0; transform: translateX(120%); }
    }
  </style>
</head>
<body>

<nav class="top-nav">
  <div style="display:flex; align-items:center;">
    <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Logo">
    <h3>Blockchain Donations</h3>
  </div>
  <ul>
    <li><a href="{{ url_for('home') }}">Home</a></li>
    <li><a href="{{ url_for('about') }}">About</a></li>
    <li><a href="{{ url_for('payment') }}">Donate</a></li>
    <li><a href="{{ url_for('contact') }}">Contact</a></li>
    <li><button class="btn-wallet" id="connectWalletBtn">Connect Wallet</button></li>
    <li><button class="btn-wallet" id="disconnectWalletBtn" style="display:none;background:#ff4d4d;color:#fff;">Disconnect</button></li>
  </ul>
</nav>

<div class="hero">
  <h1 id="typingText"></h1>
  <p>Every donation is tracked on blockchain. Your contributions go directly to the people in need.</p>
</div>

<section class="features">
  <div class="feature-card" data-animate>
    <h3>Transparency</h3>
    <p>Track every donation on blockchain. Know exactly where your funds go.</p>
  </div>
  <div class="feature-card" data-animate>
    <h3>Secure Payments</h3>
    <p>Connect your wallet safely using MetaMask or Ethereum to donate instantly.</p>
  </div>
  <div class="feature-card" data-animate>
    <h3>Global Impact</h3>
    <p>Help communities worldwide and see measurable results from your donations.</p>
  </div>
  <div class="feature-card" data-animate>
    <h3>Community Support</h3>
    <p>Join a community of donors working together to make a real change.</p>
  </div>
  <div class="feature-card" data-animate>
    <h3>Fast Transactions</h3>
    <p>Your donations are processed instantly without delays.</p>
  </div>
  <div class="feature-card" data-animate>
    <h3>Trusted Platform</h3>
    <p>Built with security and reliability to ensure safe donations.</p>
  </div>
</section>

<div class="cta">
  <h2>Ready to Make a Difference?</h2>
  <p>Connect your wallet and contribute securely. Every donation counts.</p>
  <a href="{{ url_for('payment') }}" class="btn-primary">Donate Now</a>
</div>

<footer class="footer">
  <div class="footer-grid">
    <div>
      <h4>Company</h4>
      <ul>
        <li><a href="{{ url_for('about') }}">About Us</a></li>
        <li><a href="#">Privacy Policy</a></li>
        <li><a href="#">Programs</a></li>
      </ul>
    </div>
    <div>
      <h4>Get Help</h4>
      <ul>
        <li><a href="#">FAQ</a></li>
        <li><a href="#">Projects</a></li>
        <li><a href="#">Pricing</a></li>
      </ul>
    </div>
    <div>
      <h4>Services</h4>
      <ul>
        <li><a href="{{ url_for('payment') }}">Donation</a></li>
        <li><a href="#">Locations</a></li>
        <li><a href="#">Collaboration</a></li>
      </ul>
    </div>
    <div>
      <h4>Contact</h4>
      <ul>
        <li><a href="#">Email</a></li>
        <li><a href="#">Twitter</a></li>
        <li><a href="#">Telegram</a></li>
      </ul>
    </div>
  </div>
  <p>&copy; 2025 Blockchain Donations. All rights reserved.</p>
</footer>

<!-- Container untuk notifikasi donasi -->
<div id="donationNotifications"></div>

<script>
  // Typing effect
  const typingText = document.getElementById("typingText");
  const text = "Make Donations Transparent & Trustworthy";
  let index = 0;
  function type() {
    if(index < text.length){
      typingText.textContent += text.charAt(index);
      index++;
      setTimeout(type, 60);
    }
  }
  type();

  // Scroll animation
  const cards = document.querySelectorAll('[data-animate]');
  const observer = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if(entry.isIntersecting) {
        entry.target.classList.add('visible');
      }
    });
  }, { threshold: 0.2 });
  cards.forEach(card => observer.observe(card));

  // Wallet
  document.addEventListener("DOMContentLoaded", () => {
    const connectWalletBtn = document.getElementById("connectWalletBtn");
    const disconnectWalletBtn = document.getElementById("disconnectWalletBtn");

    function shortenAddress(address) {
      return address.slice(0, 6) + "..." + address.slice(-4);
    }
    function checkWalletStatus() {
      const walletAddress = localStorage.getItem("walletAddress");
      if (walletAddress) {
        connectWalletBtn.textContent = shortenAddress(walletAddress);
        disconnectWalletBtn.style.display = "inline-block";
      } else {
        connectWalletBtn.textContent = "Connect Wallet";
        disconnectWalletBtn.style.display = "none";
      }
    }
    async function connectWallet() {
      if (typeof window.ethereum !== "undefined") {
        try {
          const accounts = await window.ethereum.request({ method: "eth_requestAccounts" });
          localStorage.setItem("walletAddress", accounts[0]);
          checkWalletStatus();
        } catch {
          alert("Connection failed!");
        }
      } else {
        alert("MetaMask not found. Please install it!");
      }
    }
    function disconnectWallet() {
      localStorage.removeItem("walletAddress");
      checkWalletStatus();
    }
    connectWalletBtn.addEventListener("click", connectWallet);
    disconnectWalletBtn.addEventListener("click", disconnectWallet);
    checkWalletStatus();
  });

  // Donation Toast Simulation
  const sampleDonations = [
    { campaign: "Clean Water Project", amount: 0.15 },
    { campaign: "Education for All", amount: 0.42 },
    { campaign: "Medical Aid Africa", amount: 1.05 },
    { campaign: "Crypto Relief Fund", amount: 0.25 },
  ];

  function showDonationToast(campaign, amount) {
    const container = document.getElementById("donationNotifications");
    const toast = document.createElement("div");
    toast.className = "donation-toast";
    toast.innerHTML = `
      <strong>New Donation</strong>
      Campaign: ${campaign}<br>
      Amount: ${amount} ETH
    `;
    container.appendChild(toast);

    setTimeout(() => {
      toast.remove();
    }, 6000);
  }

  // Simulasi donasi tiap 8 detik
  let i = 0;
  setInterval(() => {
    const d = sampleDonations[i % sampleDonations.length];
    showDonationToast(d.campaign, d.amount);
    i++;
  }, 8000);
</script>
</body>
</html>
